{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\1404042410\\\\Documents\\\\apps\\\\NavTest-main\\\\navigation\\\\screens\\\\DetailsScreen.js\";\nimport * as React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { StatusBar } from 'expo-status-bar';\nexport default function DetailsScreen(_ref) {\n  var _this = this;\n  var navigation = _ref.navigation;\n  var _React$useState = React.useState(true),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    isLoading = _React$useState2[0],\n    setIsLoading = _React$useState2[1];\n  var _React$useState3 = React.useState(),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    error = _React$useState4[0],\n    setError = _React$useState4[1];\n  var _React$useState5 = React.useState(),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    response = _React$useState6[0],\n    setResponse = _React$useState6[1];\n  React.useEffect(function () {\n    fetch(\"https://apis.is/petrol\").then(function (res) {\n      return res.json();\n    }).then(function (result) {\n      setIsLoading(false);\n      setResponse(result);\n    }, function (error) {\n      setIsLoading(false);\n      setError(error);\n    });\n  }, []);\n  var getContent = function getContent() {\n    if (isLoading) {\n      return React.createElement(ActivityIndicator, {\n        size: \"large\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 14\n        }\n      });\n    }\n    if (error) {\n      return React.createElement(Text, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 14\n        }\n      }, error);\n    }\n    console.log(response);\n    var data = response[\"results\"];\n    var geoLat = 63.996515;\n    var geoLong = -22.560588;\n    function deg2rad(deg) {\n      return deg * (Math.PI / 180);\n    }\n    function dist(lat1, lon1, lat2, lon2) {\n      var R = 6371;\n      var dLat = deg2rad(lat2 - lat1);\n      var dLon = deg2rad(lon2 - lon1);\n      var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n      var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n      var d = R * c;\n      return d;\n    }\n    for (var i = 0; i < data.length; i++) {\n      data[i][\"distance\"] = dist(geoLat, geoLong, data[i][\"geo\"][\"lat\"], data[i][\"geo\"][\"lon\"]);\n    }\n    data.sort(function (a, b) {\n      return a.distance > b.distance;\n    });\n    return React.createElement(View, {\n      style: {\n        flex: 1,\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }, React.createElement(Text, {\n      onPress: function onPress() {\n        return navigation.navigate('Home');\n      },\n      style: {\n        fontSize: 26,\n        fontWeight: 'bold'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, \"Details Screen\"));\n    return React.createElement(View, {\n      style: styles.container,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }, getContent(), React.createElement(StatusBar, {\n      style: \"auto\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    }));\n  };\n}\n;","map":{"version":3,"names":["React","StyleSheet","Text","View","Button","ActivityIndicator","StatusBar","DetailsScreen","_ref","_this","navigation","_React$useState","useState","_React$useState2","_slicedToArray","isLoading","setIsLoading","_React$useState3","_React$useState4","error","setError","_React$useState5","_React$useState6","response","setResponse","useEffect","fetch","then","res","json","result","getContent","createElement","size","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","console","log","data","geoLat","geoLong","deg2rad","deg","Math","PI","dist","lat1","lon1","lat2","lon2","R","dLat","dLon","a","sin","cos","c","atan2","sqrt","d","i","length","sort","b","distance","style","flex","alignItems","justifyContent","onPress","navigate","fontSize","fontWeight","styles","container"],"sources":["C:/Users/1404042410/Documents/apps/NavTest-main/navigation/screens/DetailsScreen.js"],"sourcesContent":["import * as React from 'react';\nimport { StyleSheet, Text, View, Button, ActivityIndicator } from 'react-native';\nimport { StatusBar } from 'expo-status-bar';\n\n\nexport default function DetailsScreen({ navigation }) {\n    let [isLoading, setIsLoading] = React.useState(true);\n  let [error, setError] = React.useState();\n  let [response, setResponse] = React.useState();\n\n  React.useEffect(() => {\n    fetch(\"https://apis.is/petrol\")\n        .then(res => res.json())\n        .then(\n            (result) => {\n              setIsLoading(false);\n              setResponse(result);\n            },\n            (error) => {\n              setIsLoading(false);\n              setError(error);\n            }\n        )\n  }, []);\n\n  const getContent = () => {\n    if (isLoading) {\n      return <ActivityIndicator size=\"large\" />;\n    }\n\n    if (error) {\n      return <Text>{error}</Text>\n    }\n\n    console.log(response);\n\n    let data = response[\"results\"];\n\n    let geoLat = 63.996515;\n    let geoLong = -22.560588;\n\n    function deg2rad(deg) {\n      return deg * (Math.PI/180)\n    }\n\n    function dist(lat1, lon1, lat2, lon2) {\n      var R = 6371; // Radius of the earth in km\n      var dLat = deg2rad(lat2-lat1);  // deg2rad below\n      var dLon = deg2rad(lon2-lon1); \n      var a = \n        Math.sin(dLat/2) * Math.sin(dLat/2) +\n        Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * \n        Math.sin(dLon/2) * Math.sin(dLon/2)\n        ; \n      var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); \n      var d = R * c; // Distance in km\n      return d;\n    }\n\n    for(let i = 0; i < data.length; i++){\n      data[i][\"distance\"] = dist(geoLat, geoLong, data[i][\"geo\"][\"lat\"], data[i][\"geo\"][\"lon\"])\n    }\n\n    data.sort((a,b) => a.distance > b.distance)\n\n    return (\n        <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\n            <Text\n                onPress={() => navigation.navigate('Home')}\n                style={{ fontSize: 26, fontWeight: 'bold' }}>Details Screen</Text>\n        </View>\n    );\n    \n    return (\n        <View style={styles.container}>\n          {getContent()}\n          <StatusBar style=\"auto\" />\n        </View>\n    );\n    \n  }\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}